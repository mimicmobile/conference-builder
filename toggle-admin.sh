#!/bin/bash
echo "const admin = require(\"firebase-admin\"); admin.initializeApp(); a = 'Finished adjusting admin claim. Hit CTRL-c two times to exit'; admin.auth().getUserByEmail(\"$1\").then(async (e) => {const uid = e.uid; if (e !== null) { const adminEnabled = e.customClaims !== undefined ? e.customClaims[\"admin\"] : false; await admin.auth().setCustomUserClaims(uid, {admin: !adminEnabled}); pp = 'User $1 | admin: ' + !adminEnabled; console.log(''); console.log(''); console.log(pp)} console.log(a)}).catch((err) => {console.log('');console.log('Error adjusting admin claim for user $1');console.log(a)}); " | firebase functions:shell
